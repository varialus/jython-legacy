<HTML>
<!-- THIS PAGE IS AUTOMATICALLY GENERATED.  DO NOT EDIT. -->
<!-- Tue May 14 16:15:50 2002 -->
<!-- USING HT2HTML 1.1 -->
<!-- SEE http://www.python.org/~bwarsaw/software/pyware.html -->
<!-- User-specified headers:
Title: Metric to English Conversion Applet</title>

-->

<HEAD>
<TITLE>Metric to English Conversion Applet</title></TITLE>

</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000"
      TOPMARGIN="0" LEFTMARGIN="0" MARGINWIDTH="0" MARGINHEIGHT="0"
      LINK="#0000bb"  VLINK="#000000"
      ALINK="#ff0000">
<!-- start of page table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<!-- start of banner row -->
<TR>
<!-- start of corner cells -->
<TD WIDTH=150 VALIGN=CENTER BGCOLOR="#cccccc">

<center>
    <a href="../">
    <img border=0 src="../images/jython-new-small.gif"></a></center> </TD>
<TD WIDTH=15 BGCOLOR="#cccccc">&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of corner cells -->
<!-- start of banner -->
<TD WIDTH="90%" BGCOLOR="#cccccc">
<!-- start of site links table -->
<TABLE WIDTH="100%" BORDER=0
CELLSPACING=0 CELLPADDING=2
       COLS=2 ROWS=2 BGCOLOR="#ffffff">
<TR>
    <TD BGCOLOR="#cccccc">
<a href="../index.html">Home</a>
    </TD>
    <TD BGCOLOR="#cccccc">
<a href="http://www.python.org/">www.python.org</a>
    </TD>
</TR><TR>
    <TD BGCOLOR="#cccccc">
<a href="../download.html">Download</a>
    </TD>
    <TD BGCOLOR="#cccccc">
<a href="../docs/index.html">Documentation</a>
    </TD>
</TR>
</TABLE><!-- end of site links table -->

</TD><!-- end of banner -->
</TR><!-- end of banner row -->
<TR><!-- start of sidebar/body row -->
<!-- start of sidebar cells -->
<TD WIDTH=150 VALIGN=TOP BGCOLOR="#cccccc">
<!-- start of sidebar table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=3
       BGCOLOR="#ffffff">
<TR><TD BGCOLOR="#666699"><B><FONT COLOR="#ffffff">
Home
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="../index.html">Overview</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="../license.html">License</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="http://sourceforge.net/project/showfiles.php?group_id=12867&release_id=21045">Jython 2.0</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="../download.html">Jython 2.1</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="../install.html">Installing</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="../platform.html">JVM Compatibility</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#666699"><B><FONT COLOR="#ffffff">
Applets
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="index.html">Demos</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="button.html">ButtonDemo</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="checkbox.html">CheckboxDemo</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="choice.html">ChoiceDemo</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="label.html">LabelDemo</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="list.html">ListDemo</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="coordinates.html">CoordinatesDemo</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<b>ConvertDemo</b>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#666699"><B><FONT COLOR="#ffffff">
Applet Problems
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="problems.html">Here's what to do</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="issues.html">Other applet issues</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#666699"><B><FONT COLOR="#ffffff">
Email Us
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="mailto:jython-dev@lists.sourceforge.net">jython-dev@lists.sourceforge.net</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
&nbsp;
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="http://www.python.org/">
<center>
    <img border=0 src="../images/PythonPoweredSmall.gif"></center>
</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
&nbsp;
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="http://sourceforge.net">
<center><IMG src="http://sourceforge.net/sflogo.php?group_id=12867" width="88" height="31" border="0" alt="SourceForge Logo"></center>
</A>
</TD></TR>
</TABLE><!-- end of sidebar table -->

</TD>
<TD WIDTH=15>&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of sidebar cell -->
<!-- start of body cell -->
<TD VALIGN=TOP WIDTH="90%"><BR>
<h3>A Metric to English Converter</h3>

<p>This example shows how to put a number of different gui 
components together to build a complete system.  
It does the amazing task of converting between the metric
and english measurement systems.

<p>
<applet code="Converter" archive="appletdemo.jar" width = 500 height = 150
        alt="This browser doesn't support JDK 1.1 applets.">
<param name=cabbase0 value="appletdemo.cab">
<h3>Something has gone wrong loading this applet.</h3>
</applet>


<p>The complete source code for this example is included below.

<blockquote><pre><hr>
from java import awt
from java.applet import Applet
from java.awt.event import ActionListener, ItemListener, AdjustmentListener
from pawt import GridBag

basicUnits = [
    ['Metric System', [('Centimeters', 0.01), ('Meters', 1.0),
        ('Kilometers', 1000.0)]],
    ['U.S. System', [('Inches', 0.0254), ('Feet', 0.305),
        ('Yards', 0.914), ('Miles', 1613.0)]]]

class SimpleBorder:
    def paint(self, g):
        g.drawRect(0,0,self.size.width-1, self.size.height-1)

    def getInsets(self):
        return awt.Insets(5,5,5,5)

class Converter(Applet, SimpleBorder):
    def init(self, unitSets=basicUnits):
        self.setLayout(awt.GridLayout(2,0,5,5))
        self.panels = []
        for name, units in unitSets:
            panel = ConversionPanel(name, units, self)
            self.panels.append(panel)
            self.add(panel)

    def convert(self, master):
        value = master.getValue()
        multiplier = master.getMultiplier()

        for panel in self.panels:
            if panel is not master:
                panel.setValue(multiplier/panel.getMultiplier()*value)


class ConversionPanel(awt.Panel, SimpleBorder,
                      ActionListener, AdjustmentListener, ItemListener):
    max, block = 10000, 100

    def __init__(self, title, units, controller):
        self.units = units
        self.controller = controller

        awt.Panel.__init__(self)

        bag = GridBag(self, fill='HORIZONTAL')

        label = awt.Label(title, awt.Label.CENTER)
        bag.addRow(label)

        self.text = awt.TextField('0', 10, actionListener=self)
        bag.add(self.text, weightx=1.0)

        self.chooser = awt.Choice(itemListener=self)
        for name, multiplier in units:
            self.chooser.add(name)
        bag.addRow(self.chooser)

        self.slider = awt.Scrollbar(awt.Scrollbar.HORIZONTAL,
                       maximum=self.max+10, blockIncrement=self.block,
                       adjustmentListener=self)
        bag.add(self.slider)

    def getMultiplier(self):
        return self.units[self.chooser.selectedIndex][1]

    def getValue(self):
        try:
            return float(self.text.getText())
        except:
            return 0.0

    def actionPerformed(self, e):
        self.setSlider(self.getValue())
        self.controller.convert(self)

    def itemStateChanged(self, e):
        self.controller.convert(self)

    def adjustmentValueChanged(self, e):
        self.text.setText(str(e.getValue()))
        self.controller.convert(self)

    def setValue(self, v):
        self.text.setText(str(v))
        self.setSlider(v)

    def setSlider(self, f):
        if f > self.max: f = self.max
        if f < 0: f = 0
        self.slider.value = int(f)
<hr></pre></blockquote>


Hopefully after looking over the previous examples, this code should be fairly
easy to read.  If not, you'll have to wait until I have the time to write up
a good explanation for this example.

<p>
</TD><!-- end of body cell -->
</TR><!-- end of sidebar/body row -->
</TABLE><!-- end of page table -->
</BODY></HTML>
